import type { EventLive } from '../../src/domain/event-lives';
import type { RawFPLEventLiveElement, RawFPLEventLiveResponse } from '../../src/types';

// Raw FPL API response for event live data (sample data)
export const rawFPLEventLiveElementsFixture: RawFPLEventLiveElement[] = [
  {
    id: 350,
    stats: {
      minutes: 90,
      goals_scored: 2,
      assists: 1,
      clean_sheets: 0,
      goals_conceded: 1,
      own_goals: 0,
      penalties_saved: 0,
      penalties_missed: 0,
      yellow_cards: 0,
      red_cards: 0,
      saves: 0,
      bonus: 3,
      bps: 45,
      influence: '85.2',
      creativity: '42.5',
      threat: '98.0',
      ict_index: '22.5',
      starts: 1,
      expected_goals: '0.85',
      expected_assists: '0.32',
      expected_goal_involvements: '1.17',
      expected_goals_conceded: '0.75',
      total_points: 15,
      in_dreamteam: true,
    },
    explain: [],
  },
  {
    id: 234,
    stats: {
      minutes: 90,
      goals_scored: 0,
      assists: 0,
      clean_sheets: 1,
      goals_conceded: 0,
      own_goals: 0,
      penalties_saved: 0,
      penalties_missed: 0,
      yellow_cards: 1,
      red_cards: 0,
      saves: 3,
      bonus: 1,
      bps: 28,
      influence: '52.3',
      creativity: '15.2',
      threat: '8.5',
      ict_index: '7.6',
      starts: 1,
      expected_goals: '0.02',
      expected_assists: '0.05',
      expected_goal_involvements: '0.07',
      expected_goals_conceded: '0.45',
      total_points: 6,
      in_dreamteam: false,
    },
    explain: [],
  },
  {
    id: 567,
    stats: {
      minutes: 25,
      goals_scored: 0,
      assists: 0,
      clean_sheets: 0,
      goals_conceded: 1,
      own_goals: 0,
      penalties_saved: 0,
      penalties_missed: 0,
      yellow_cards: 0,
      red_cards: 0,
      saves: 0,
      bonus: 0,
      bps: 5,
      influence: '12.5',
      creativity: '8.2',
      threat: '15.0',
      ict_index: '3.6',
      starts: 0,
      expected_goals: '0.15',
      expected_assists: '0.08',
      expected_goal_involvements: '0.23',
      expected_goals_conceded: '0.28',
      total_points: 1,
      in_dreamteam: false,
    },
    explain: [],
  },
];

// Mock FPL Event Live API response
export const mockEventLiveResponseFixture: RawFPLEventLiveResponse = {
  elements: rawFPLEventLiveElementsFixture,
};

// Expected transformed event lives (matching domain EventLive interface)
export const transformedEventLivesFixture: EventLive[] = [
  {
    eventId: 15,
    elementId: 350,
    minutes: 90,
    goalsScored: 2,
    assists: 1,
    cleanSheets: 0,
    goalsConceded: 1,
    ownGoals: 0,
    penaltiesSaved: 0,
    penaltiesMissed: 0,
    yellowCards: 0,
    redCards: 0,
    saves: 0,
    bonus: 3,
    bps: 45,
    starts: true,
    expectedGoals: '0.85',
    expectedAssists: '0.32',
    expectedGoalInvolvements: '1.17',
    expectedGoalsConceded: '0.75',
    inDreamTeam: true,
    totalPoints: 15,
    createdAt: null,
  },
  {
    eventId: 15,
    elementId: 234,
    minutes: 90,
    goalsScored: 0,
    assists: 0,
    cleanSheets: 1,
    goalsConceded: 0,
    ownGoals: 0,
    penaltiesSaved: 0,
    penaltiesMissed: 0,
    yellowCards: 1,
    redCards: 0,
    saves: 3,
    bonus: 1,
    bps: 28,
    starts: true,
    expectedGoals: '0.02',
    expectedAssists: '0.05',
    expectedGoalInvolvements: '0.07',
    expectedGoalsConceded: '0.45',
    inDreamTeam: false,
    totalPoints: 6,
    createdAt: null,
  },
  {
    eventId: 15,
    elementId: 567,
    minutes: 25,
    goalsScored: 0,
    assists: 0,
    cleanSheets: 0,
    goalsConceded: 1,
    ownGoals: 0,
    penaltiesSaved: 0,
    penaltiesMissed: 0,
    yellowCards: 0,
    redCards: 0,
    saves: 0,
    bonus: 0,
    bps: 5,
    starts: false,
    expectedGoals: '0.15',
    expectedAssists: '0.08',
    expectedGoalInvolvements: '0.23',
    expectedGoalsConceded: '0.28',
    inDreamTeam: false,
    totalPoints: 1,
    createdAt: null,
  },
];

// Single fixtures for focused testing
export const singleRawEventLiveElementFixture: RawFPLEventLiveElement =
  rawFPLEventLiveElementsFixture[0];
export const singleTransformedEventLiveFixture: EventLive = transformedEventLivesFixture[0];

// Edge case fixtures
export const goalkeepperEventLiveFixture: EventLive = {
  eventId: 15,
  elementId: 100,
  minutes: 90,
  goalsScored: 0,
  assists: 0,
  cleanSheets: 1,
  goalsConceded: 0,
  ownGoals: 0,
  penaltiesSaved: 1,
  penaltiesMissed: 0,
  yellowCards: 0,
  redCards: 0,
  saves: 6,
  bonus: 3,
  bps: 42,
  starts: true,
  expectedGoals: '0.01',
  expectedAssists: '0.02',
  expectedGoalInvolvements: '0.03',
  expectedGoalsConceded: '0.35',
  inDreamTeam: true,
  totalPoints: 10,
  createdAt: null,
};

export const redCardEventLiveFixture: EventLive = {
  eventId: 15,
  elementId: 200,
  minutes: 35,
  goalsScored: 0,
  assists: 0,
  cleanSheets: 0,
  goalsConceded: 2,
  ownGoals: 0,
  penaltiesSaved: 0,
  penaltiesMissed: 0,
  yellowCards: 0,
  redCards: 1,
  saves: 0,
  bonus: 0,
  bps: 2,
  starts: true,
  expectedGoals: '0.05',
  expectedAssists: '0.03',
  expectedGoalInvolvements: '0.08',
  expectedGoalsConceded: '1.25',
  inDreamTeam: false,
  totalPoints: -2,
  createdAt: null,
};

export const benchPlayerEventLiveFixture: EventLive = {
  eventId: 15,
  elementId: 300,
  minutes: 0,
  goalsScored: 0,
  assists: 0,
  cleanSheets: 0,
  goalsConceded: 0,
  ownGoals: 0,
  penaltiesSaved: 0,
  penaltiesMissed: 0,
  yellowCards: 0,
  redCards: 0,
  saves: 0,
  bonus: 0,
  bps: 0,
  starts: false,
  expectedGoals: '0.00',
  expectedAssists: '0.00',
  expectedGoalInvolvements: '0.00',
  expectedGoalsConceded: '0.00',
  inDreamTeam: false,
  totalPoints: 0,
  createdAt: null,
};

// Test scenarios
export const testScenarios = {
  empty: {
    raw: [],
    transformed: [],
    description: 'Empty event lives array',
  },
  single: {
    raw: [rawFPLEventLiveElementsFixture[0]],
    transformed: [transformedEventLivesFixture[0]],
    description: 'Single event live',
  },
  multiple: {
    raw: rawFPLEventLiveElementsFixture,
    transformed: transformedEventLivesFixture,
    description: 'Multiple event lives',
  },
  goalkeeper: {
    transformed: [goalkeepperEventLiveFixture],
    description: 'Goalkeeper performance',
  },
  redCard: {
    transformed: [redCardEventLiveFixture],
    description: 'Player sent off',
  },
  bench: {
    transformed: [benchPlayerEventLiveFixture],
    description: 'Unused substitute',
  },
};

// Database insertion data
export const dbEventLiveInsertFixture = {
  eventId: 15,
  elementId: 350,
  minutes: 90,
  goalsScored: 2,
  assists: 1,
  cleanSheets: 0,
  goalsConceded: 1,
  ownGoals: 0,
  penaltiesSaved: 0,
  penaltiesMissed: 0,
  yellowCards: 0,
  redCards: 0,
  saves: 0,
  bonus: 3,
  bps: 45,
  starts: true,
  expectedGoals: '0.85',
  expectedAssists: '0.32',
  expectedGoalInvolvements: '1.17',
  expectedGoalsConceded: '0.75',
  inDreamTeam: true,
  totalPoints: 15,
};

// Expected API response format
export const eventLivesApiResponseFixture = {
  success: true,
  data: transformedEventLivesFixture,
  count: transformedEventLivesFixture.length,
};
